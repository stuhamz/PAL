<!DOCTYPE html>
<html>

<body>
    <h1>Context Type Verification</h1>

    <!-- 1. SrcDoc -->
    <iframe id="f_srcdoc"
        srcdoc="<script>var c=document.createElement('canvas'); c.getContext('2d');</script>"></iframe>

    <!-- 2. Sandbox -->
    <iframe id="f_sandbox" sandbox="allow-scripts"
        srcdoc="<script>var c=document.createElement('canvas'); c.getContext('2d');</script>"></iframe>

    <!-- 3. Dynamic (Same Origin) -->
    <script>
        setTimeout(() => {
            const f = document.createElement('iframe');
            document.body.appendChild(f);
            f.contentWindow.document.createElement('canvas').getContext('2d');
        }, 500);

        // 4. Worker
        const blob = new Blob(["self.postMessage('init');"], { type: 'application/javascript' });
        const w = new Worker(URL.createObjectURL(blob));
    </script>
</body>

</html>